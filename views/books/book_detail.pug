extends ../layout

block content
    h1 Book Title: #{title}
    
    form(method='post' action=`/books/${id}`)
      p
        label(for='title') Title
        if errorMessages
          if errorMessages.title
            input(class='error-input' type='text' name='title')
            span(class='error')=errorMessages.title
          else if title
            input#title(type='text', name='title', value=title)
        else
          input#title(type='text', name='title', value=title)
  
      p
        label(for='author') Author
        if errorMessages
          if errorMessages.author
            input#author(class='error-input' type='text' name='author')
            span(class='error')=errorMessages.author
          else if author
            input#author(type='text' name='author', value=author)
        else
          input#author(type='text' name='author', value=author)
        
      p
        label(for='genre') Genre
        if errorMessages
          if errorMessages.genre
            input#genre(class='error-input' type='text' name='genre')
            span(class='error')=errorMessages.genre
          else if genre
            input#genre(type='text' name='genre', value=genre)
        else
          input#genre(type='text' name='genre', value=genre)
        
      p
        label(for='first_published') First Published
        if errorMessages
          if errorMessages.first_published
            input#first_published(class='error-input' type='text' name='first_published')
            span(class='error')=errorMessages.first_published
          else if first_published
            input#first_published(type='text' name='first_published', value=first_published)
        else
          input#first_published(type='text' name='first_published', value=first_published)

      p
        input(type='submit', value='Update')
    h2 Loan History
    if loanHistory.length > 0
        include ../includes/loan_history.pug
    else 
      p There is no Loan History for #{title}
      
      
      
