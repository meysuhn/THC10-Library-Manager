extends ../layout

block content
    h1 Return Book
    p
      strong Book Title:
      |  #{loanDetail.Book.title}
    p
      strong Loaned By:
      |  #{loanDetail.Patron.first_name} #{loanDetail.Patron.last_name}
    p
      strong Loaned On:
      |  #{loanDetail.loaned_on}
    p
      strong Return By:
      |  #{loanDetail.return_by}
    
    form(method='post' action=`/loans/${loanDetail.id}/return`)
          
      p
        label(for='returned_on') Returned on:
        if errorMessages
          if errorMessages.returned_on
            input#returned_on(class='error-input' type='text', name="returned_on")
            span(class='error')=errorMessages.returned_on
          else if returned_on
            input#returned_on(type='text', name='returned_on' value=returned_on)
        else
          input#returned_on(type='text', name='returned_on' value=todaysDate)
      p
        input(type='submit', value='Return Book')
          
      
      
          //- p
          //-   label(for='loaned_on') Loaned on:
          //-   if errorMessages
          //-     if errorMessages.loaned_on
          //-       input(class='error-input' type='text' name='loaned_on')
          //-       span(class='error')=errorMessages.loaned_on
            //-   else if loaned_on
            //-     input#loaned_on(type='text', name='loaned_on', value=loaned_on)
            //- else
            //-   input#loaned_on(type='text', name='loaned_on' value=newLoanDate)
